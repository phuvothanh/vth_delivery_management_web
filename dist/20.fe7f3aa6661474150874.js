(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{BAkl:function(e,t,i){"use strict";i.r(t),i.d(t,"OrderReportModule",function(){return J});var o=i("ofXK"),a=i("tyNb"),n=i("wd/R"),r=i("gSRN"),d=i("Iab2"),l=i("fXoL"),c=i("cNn3"),b=i("TScJ"),m=i("3Pt+"),p=i("k8YA"),u=i("QE0S"),h=i("WYlB"),s=i("ZzPI"),f=i("6t9p"),x=i("PVOt");function g(e,t){if(1&e&&(l.Qb(0,"div"),l.Qb(1,"span",37),l.vc(2),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.Bb(1),l.gc("title",e.value),l.Bb(1),l.wc(e.value)}}function w(e,t){if(1&e&&(l.Qb(0,"div"),l.Qb(1,"div"),l.vc(2),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.Bb(2),l.yc(" ",e.data.pickedUpWeight.toLocaleString()," / ",e.data.finishedWeight.toLocaleString()," ")}}const v=function(e){return{items:e,displayExpr:"name",valueExpr:"value"}},y=function(){return{text:"L\u1ecdc",type:"success",icon:"fa fa-filter",validationGroup:"newsFormFilter",useSubmitBehavior:!0}},F=function(){return[10,20,50,100,500]};let S=(()=>{class e{constructor(e,t){this.orderReportServiceProxy=e,this.orderService=t,this.fromDateFilter=n(),this.toDateFilter=n(),this.timeLineFilter=null,this.gridHeight=window.innerHeight-230,this.lookupTimeline=[{value:null,name:"T\u1ea5t c\u1ea3"},{value:!0,name:"Gi\u1edd h\xe0nh ch\xednh"},{value:!1,name:"Ngo\xe0i h\xe0nh ch\xednh"}]}ngOnInit(){this.loadOrderReportDataSource()}loadOrderReportDataSource(){this.orderReportDataSource=new r.a({load:e=>this.orderService.getOrderReportTimeLine(e.mapFrom(),this.getAdditionCondition())})}onFormFilterSubmit(e){e.preventDefault(),this.loadOrderReportDataSource()}downloadExcel(){this.orderReportServiceProxy.downloadTimeLineReport(this.fromDateFilter,this.toDateFilter,this.timeLineFilter).subscribe(e=>this.onFileDownload(e))}onFileDownload(e){var t=new Blob([e.data],{type:e.data.type});Object(d.saveAs)(t,"Bao_cao_don_hang.xlsx")}getAdditionCondition(){return{from:this.fromDateFilter,to:this.toDateFilter,officialHours:this.timeLineFilter}}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(c.I),l.Mb(b.a))},e.\u0275cmp=l.Gb({type:e,selectors:[["app-order-report-time-line"]],decls:50,vars:44,consts:[[1,"card","custom-card",2,"margin-bottom","5px"],[1,"card-header"],["action","",3,"submit"],["id","form",3,"readOnly","formData","showColonAfterLabel","showValidationSummary"],["itemType","group","caption","",3,"colCount"],[3,"colSpan"],["displayFormat","dd/MM/yyyy",3,"value","valueChange"],[3,"text"],["dataField","timeLineFilter","editorType","dxSelectBox",3,"colSpan","editorOptions"],["icon","fa fa-cloud-upload","type","normal","text","Xu\u1ea5t d\u1eef li\u1ec7u excel",3,"click"],["itemType","button","horizontalAlignment","right",3,"buttonOptions"],[1,"card-body"],["action",""],["itemType","group","caption",""],["itemType","group"],[3,"height","showColumnLines","rowAlternationEnabled","hoverStateEnabled","remoteOperations","wordWrapEnabled","dataSource","columnAutoWidth","showBorders"],["orderDataGrid",""],["mode","multiple"],[3,"visible"],["mode","single"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],["dataField","code","caption","M\xe3 \u0111\u01a1n h\xe0ng","sortOrder","desc"],["dataField","staffName","caption","Nh\xe2n vi\xean giao h\xe0ng",3,"width"],["dataField","staffSupport","caption","Nh\xe2n vi\xean h\u1ed7 tr\u1ee3","cellTemplate","supportCellTemplate",3,"allowFiltering","width"],[4,"dxTemplate","dxTemplateOf"],["dataField","codeDeliveryBill","caption","Phi\u1ebfu xu\u1ea5t kho"],["dataField","customerCode","caption","M\xe3 kh\xe1ch h\xe0ng"],["dataField","customerName","caption","T\xean kh\xe1ch h\xe0ng",3,"width"],["dataField","waitingConfirmUpdatedTime","caption","Th\u1eddi gian g\xe1n \u0111\u01a1n","format","dd/MM/yyyy HH:mm","dataType","datetime"],["dataField","finishedUpdatedTime","caption","Th\u1eddi gian ho\xe0n th\xe0nh","format","dd/MM/yyyy HH:mm","dataType","datetime"],["dataField","estimateTimeMoving","caption","Th\u1eddi gian \u0111i d\u1ef1 ki\u1ebfn (ph\xfat)"],["dataField","shipperTime","caption","Th\u1eddi gian \u0111i th\u1ef1c t\u1ebf (ph\xfat)"],["dataField","distance","caption","Kho\u1ea3n c\xe1ch (km)"],["dataField","shipperDistance","caption","Kho\u1ea3n c\xe1ch th\u1ef1c t\u1ebf (km)"],["dataField","feedback","caption","\u0110\xe1nh gi\xe1"],["dataField","finishedWeight","caption","Kh\u1ed1i l\u01b0\u1ee3ng ho\xe0n th\xe0nh","cellTemplate","weightTemplate"],[3,"title"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"form",2),l.Xb("submit",function(e){return t.onFormFilterSubmit(e)}),l.Qb(3,"dx-form",3),l.Qb(4,"dxi-item",4),l.Qb(5,"dxi-item",5),l.Qb(6,"dx-date-box",6),l.Xb("valueChange",function(e){return t.fromDateFilter=e}),l.Pb(),l.Nb(7,"dxo-label",7),l.Pb(),l.Qb(8,"dxi-item",5),l.Qb(9,"dx-date-box",6),l.Xb("valueChange",function(e){return t.toDateFilter=e}),l.Pb(),l.Nb(10,"dxo-label",7),l.Pb(),l.Qb(11,"dxi-item",8),l.Nb(12,"dxo-label",7),l.Pb(),l.Qb(13,"dxi-item"),l.Qb(14,"dx-button",9),l.Xb("click",function(){return t.downloadExcel()}),l.Pb(),l.Pb(),l.Pb(),l.Nb(15,"dxi-item",10),l.Pb(),l.Pb(),l.Pb(),l.Nb(16,"div",11),l.Pb(),l.Qb(17,"div",0),l.Nb(18,"div",1),l.Qb(19,"div",11),l.Qb(20,"form",12),l.Qb(21,"dx-form",3),l.Qb(22,"dxi-item",13),l.Qb(23,"dxi-item",13),l.Nb(24,"dxi-item",4),l.Qb(25,"dxi-item",14),l.Qb(26,"dxi-item"),l.Qb(27,"dx-data-grid",15,16),l.Nb(29,"dxo-sorting",17),l.Nb(30,"dxo-filter-row",18),l.Nb(31,"dxo-selection",19),l.Nb(32,"dxo-paging",20),l.Nb(33,"dxo-pager",21),l.Nb(34,"dxi-column",22),l.Nb(35,"dxi-column",23),l.Qb(36,"dxi-column",24),l.tc(37,g,3,2,"div",25),l.Pb(),l.Nb(38,"dxi-column",26),l.Nb(39,"dxi-column",27),l.Nb(40,"dxi-column",28),l.Nb(41,"dxi-column",29),l.Nb(42,"dxi-column",30),l.Nb(43,"dxi-column",31),l.Nb(44,"dxi-column",32),l.Nb(45,"dxi-column",33),l.Nb(46,"dxi-column",34),l.Nb(47,"dxi-column",35),l.Nb(48,"dxi-column",36),l.tc(49,w,3,2,"div",25),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.Bb(3),l.fc("readOnly",!1)("formData",t)("showColonAfterLabel",!0)("showValidationSummary",!1),l.Bb(1),l.fc("colCount",5),l.Bb(1),l.fc("colSpan",1),l.Bb(1),l.fc("value",t.fromDateFilter),l.Bb(1),l.fc("text","T\u1eeb ng\xe0y"),l.Bb(1),l.fc("colSpan",1),l.Bb(1),l.fc("value",t.toDateFilter),l.Bb(1),l.fc("text","\u0110\u1ebfn ng\xe0y"),l.Bb(1),l.fc("colSpan",1)("editorOptions",l.ic(40,v,t.lookupTimeline)),l.Bb(1),l.fc("text","Khung th\u1eddi gian"),l.Bb(3),l.fc("buttonOptions",l.hc(42,y)),l.Bb(6),l.fc("readOnly",!1)("formData",t)("showColonAfterLabel",!0)("showValidationSummary",!1),l.Bb(3),l.fc("colCount",2),l.Bb(3),l.fc("height",t.gridHeight)("showColumnLines",!1)("rowAlternationEnabled",!0)("hoverStateEnabled",!0)("remoteOperations",!0)("wordWrapEnabled",!1)("dataSource",t.orderReportDataSource)("columnAutoWidth",!0)("showBorders",!0),l.Bb(3),l.fc("visible",!0),l.Bb(2),l.fc("pageSize",20),l.Bb(1),l.fc("showPageSizeSelector",!0)("allowedPageSizes",l.hc(43,F))("showInfo",!0),l.Bb(2),l.fc("width",200),l.Bb(1),l.fc("allowFiltering",!1)("width",200),l.Bb(1),l.fc("dxTemplateOf","supportCellTemplate"),l.Bb(3),l.fc("width",300),l.Bb(9),l.fc("dxTemplateOf","weightTemplate"))},directives:[m.i,m.e,m.f,p.a,f.k,u.a,f.lb,h.a,s.a,f.Lb,f.W,f.Hb,f.yb,f.wb,f.f,x.d],styles:[""]}),e})();const P=[{path:"",redirectTo:"time-line",pathMatch:"prefix"},{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Gb({type:e,selectors:[["app-order-report"]],decls:1,vars:0,template:function(e,t){1&e&&l.Nb(0,"router-outlet")},directives:[a.g],styles:[""]}),e})(),children:[{path:"time-line",component:S}]}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({imports:[[a.f.forChild(P)],a.f]}),e})();var T=i("7m6G"),N=i("4Ewp"),Q=i("Wx6Q"),D=i("Qlw+"),O=i("gMzk"),k=i("Gkpw"),C=i("uTW7"),L=i("ir3x"),M=i("M+dh"),A=i("LT8A"),E=i("zn50"),R=i("BbNB"),W=i("xcIV"),z=i("lgXn"),H=i("w76M"),I=i("Ylls"),X=i("/ZIY"),K=i("XPKZ"),G=i("4/q7");let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({imports:[[o.b,B,h.b,T.a,N.a,Q.a,D.a,p.b,O.b,k.b,C.a,L.a,M.a,A.a,E.a,R.a,W.a,x.f,s.b,z.a,H.b,I.a,X.a,K.b,G.b,u.b,m.b]]}),e})()}}]);