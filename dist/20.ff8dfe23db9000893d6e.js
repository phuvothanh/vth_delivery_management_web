(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{TLzw:function(e,t,i){"use strict";i.r(t),i.d(t,"NotificationModule",function(){return H});var a=i("ofXK"),o=i("cNn3"),n=i("fXoL"),b=i("tvsI"),r=i("8/KI"),d=i("k8YA"),l=i("WYlB"),c=i("4/q7"),s=i("gMzk"),m=i("ZzPI"),u=i("6t9p"),f=i("PVOt");function h(e,t){if(1&e&&(n.Qb(0,"span",61),n.vc(1),n.Pb()),2&e){const e=t.$implicit;n.Bb(1),n.xc("[##",e,"##]")}}function p(e,t){if(1&e&&n.tc(0,h,2,1,"ng-template",60),2&e){const e=n.Zb(2);n.fc("ngForOf",e.formData.publishFields)}}function g(e,t){if(1&e&&(n.Qb(0,"div"),n.tc(1,p,1,1,void 0,59),n.Pb()),2&e){const e=n.Zb();n.Bb(1),n.fc("ngIf",e.formData&&e.formData.publishFields)}}const x=function(){return{height:70}},N=function(){return["8pt","10pt","12pt","14pt","18pt","24pt","36pt"]},w=function(){return["Arial","Courier New","Georgia","Impact","Lucida Console","Tahoma","Times New Roman","Verdana"]},S=function(){return[!1,1,2,3,4,5]},v=function(){return[10,20,50,100,500]};let P=(()=>{class e{constructor(e,t,i){this.appSessionService=e,this.messageService=t,this.notificationService=i,this.onSelectionChanged=this.onSelectionChanged.bind(this),this.getScreenGridSize()}ngOnInit(){this.notificationService.getAll().subscribe(e=>{this.data=e})}getScreenGridSize(e){this.screenHeight=window.innerHeight,this.gridHeight=this.screenHeight-180+"px"}onSelectionChanged(e){this.selectedRows&&this.selectedRows.length>0&&this._loadDetail(this.selectedRows[0].id)}_loadDetail(e){this.notificationService.get(e).subscribe(e=>{this.formData=e,this.content=e.content,this.enableAutoUpdateField=e.publishFields&&e.publishFields.length>0,this.autoUpdateTitle=(e.replacePublishFieldType&o.G._1)===o.G._1,this.autoUpdateMessage=(e.replacePublishFieldType&o.G._2)===o.G._2,this.autoUpdateContent=(e.replacePublishFieldType&o.G._4)===o.G._4})}onContentChange(e){this.formData&&(this.formData.content=e)}onSubmitForm(e){if(e.preventDefault(),this.formData&&this.formData.code){const e=new o.db;e.init(this.formData),this.enableAutoUpdateField&&(e.replacePublishFieldType=0,this.autoUpdateTitle&&(e.replacePublishFieldType=e.replacePublishFieldType|o.G._1),this.autoUpdateMessage&&(e.replacePublishFieldType=e.replacePublishFieldType|o.G._2),this.autoUpdateContent&&(e.replacePublishFieldType=e.replacePublishFieldType|o.G._4)),this.notificationService.update(this.formData.code,e).subscribe(e=>{this.messageService.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng!")})}}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(b.a),n.Mb(r.a),n.Mb(o.F))},e.\u0275cmp=n.Gb({type:e,selectors:[["app-notification-list"]],hostBindings:function(e,t){1&e&&n.Xb("resize",function(e){return t.getScreenGridSize(e)},!1,n.oc)},decls:87,vars:59,consts:[[1,"card","custom-card",2,"margin-bottom","5px"],[1,"card-header"],[1,"card-body"],["id","form","validationGroup","formDataFilter",3,"readOnly","formData","showColonAfterLabel","showValidationSummary"],["itemType","group","caption","",3,"colCount"],["itemType","group","caption","Th\xf4ng tin ch\xednh",3,"colSpan"],["action","",3,"submit"],["validationGroup","formData",3,"readOnly","formData","showColonAfterLabel","showValidationSummary"],["itemType","group","caption",""],["text","L\u01b0u","type","success","icon","fa fa-floppy-o","validationGroup","formData",2,"margin-right","10px","background-color","#12007c","font-weight","bold","padding","2px",3,"useSubmitBehavior","disabled"],["dataField","title",3,"colSpan"],[3,"text"],["dataField","message","editorType","dxTextArea",3,"colSpan","editorOptions"],["type","required","message","Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"],["type","stringLength","message","H\u1ecd t\xean kh\xf4ng v\u01b0\u1ee3t qu\xe1 400 k\xfd t\u1ef1",3,"max"],["height","300px",3,"value","valueChange"],["formatName","undo"],["formatName","redo"],["formatName","separator"],["formatName","size",3,"formatValues"],["formatName","font",3,"formatValues"],["formatName","bold"],["formatName","italic"],["formatName","strike"],["formatName","underline"],["formatName","alignLeft"],["formatName","alignCenter"],["formatName","alignRight"],["formatName","alignJustify"],["formatName","orderedList"],["formatName","bulletList"],["formatName","header",3,"formatValues"],["formatName","color"],["formatName","background"],["formatName","link"],["formatName","image"],["formatName","clear"],["formatName","codeBlock"],["formatName","blockquote"],["formatName","insertTable"],["formatName","deleteTable"],["formatName","insertRowAbove"],["formatName","insertRowBelow"],["formatName","deleteRow"],["formatName","insertColumnLeft"],["formatName","insertColumnRight"],["formatName","deleteColumn"],["dataField","publishFields",3,"colSpan"],[4,"dxTemplate"],[3,"colSpan"],[3,"disabled","value","valueChange"],["itemType","group","caption","Danh s\xe1ch m\u1eabu th\xf4ng b\xe1o",3,"colSpan"],[3,"height","showColumnLines","rowAlternationEnabled","selectedRowKeys","hoverStateEnabled","dataSource","columnAutoWidth","showBorders","heightChange","selectedRowKeysChange","onSelectionChanged"],["dataGrid",""],["mode","single"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],[3,"visible"],["dataField","name","caption","T\xean"],[4,"ngIf"],["ngFor","",3,"ngForOf"],[2,"margin-right","0.5rem"]],template:function(e,t){1&e&&(n.Qb(0,"div",0),n.Nb(1,"div",1),n.Qb(2,"div",2),n.Qb(3,"dx-form",3),n.Qb(4,"dxi-item",4),n.Qb(5,"dxi-item",5),n.Qb(6,"form",6),n.Xb("submit",function(e){return t.onSubmitForm(e)}),n.Qb(7,"dx-form",7),n.Qb(8,"dxi-item",8),n.Qb(9,"dxi-item"),n.Nb(10,"dx-button",9),n.Pb(),n.Pb(),n.Qb(11,"dxi-item",8),n.Qb(12,"dxi-item",8),n.Qb(13,"dxi-item",4),n.Qb(14,"dxi-item",10),n.Nb(15,"dxo-label",11),n.Pb(),n.Qb(16,"dxi-item",12),n.Nb(17,"dxo-label",11),n.Nb(18,"dxi-validation-rule",13),n.Nb(19,"dxi-validation-rule",14),n.Pb(),n.Pb(),n.Qb(20,"dxi-item",8),n.Nb(21,"dxo-label",11),n.Qb(22,"dx-html-editor",15),n.Xb("valueChange",function(e){return t.onContentChange(e)}),n.Qb(23,"dxo-toolbar"),n.Nb(24,"dxi-item",16),n.Nb(25,"dxi-item",17),n.Nb(26,"dxi-item",18),n.Nb(27,"dxi-item",19),n.Nb(28,"dxi-item",20),n.Nb(29,"dxi-item",18),n.Nb(30,"dxi-item",21),n.Nb(31,"dxi-item",22),n.Nb(32,"dxi-item",23),n.Nb(33,"dxi-item",24),n.Nb(34,"dxi-item",18),n.Nb(35,"dxi-item",25),n.Nb(36,"dxi-item",26),n.Nb(37,"dxi-item",27),n.Nb(38,"dxi-item",28),n.Nb(39,"dxi-item",18),n.Nb(40,"dxi-item",29),n.Nb(41,"dxi-item",30),n.Nb(42,"dxi-item",18),n.Nb(43,"dxi-item",31),n.Nb(44,"dxi-item",18),n.Nb(45,"dxi-item",32),n.Nb(46,"dxi-item",33),n.Nb(47,"dxi-item",18),n.Nb(48,"dxi-item",34),n.Nb(49,"dxi-item",35),n.Nb(50,"dxi-item",18),n.Nb(51,"dxi-item",36),n.Nb(52,"dxi-item",37),n.Nb(53,"dxi-item",38),n.Nb(54,"dxi-item",18),n.Nb(55,"dxi-item",39),n.Nb(56,"dxi-item",40),n.Nb(57,"dxi-item",41),n.Nb(58,"dxi-item",42),n.Nb(59,"dxi-item",43),n.Nb(60,"dxi-item",44),n.Nb(61,"dxi-item",45),n.Nb(62,"dxi-item",46),n.Pb(),n.Pb(),n.Pb(),n.Qb(63,"dxi-item",4),n.Qb(64,"dxi-item",47),n.Nb(65,"dxo-label",11),n.tc(66,g,2,1,"div",48),n.Pb(),n.Qb(67,"dxi-item",49),n.Nb(68,"dxo-label",11),n.Qb(69,"dx-check-box",50),n.Xb("valueChange",function(e){return t.autoUpdateTitle=e}),n.Pb(),n.Pb(),n.Qb(70,"dxi-item",49),n.Nb(71,"dxo-label",11),n.Qb(72,"dx-check-box",50),n.Xb("valueChange",function(e){return t.autoUpdateMessage=e}),n.Pb(),n.Pb(),n.Qb(73,"dxi-item",49),n.Nb(74,"dxo-label",11),n.Qb(75,"dx-check-box",50),n.Xb("valueChange",function(e){return t.autoUpdateContent=e}),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Qb(76,"dxi-item",51),n.Qb(77,"dxi-item",8),n.Qb(78,"dxi-item"),n.Qb(79,"dx-data-grid",52,53),n.Xb("heightChange",function(e){return t.gridHeight=e})("selectedRowKeysChange",function(e){return t.selectedRows=e})("onSelectionChanged",function(e){return t.onSelectionChanged(e)}),n.Nb(81,"dxo-selection",54),n.Nb(82,"dxo-paging",55),n.Nb(83,"dxo-pager",56),n.Nb(84,"dxo-filter-row",57),n.Nb(85,"dxo-header-filter",57),n.Nb(86,"dxi-column",58),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb(),n.Pb()),2&e&&(n.Bb(3),n.fc("readOnly",!1)("formData",t)("showColonAfterLabel",!0)("showValidationSummary",!1),n.Bb(1),n.fc("colCount",3),n.Bb(1),n.fc("colSpan",2),n.Bb(2),n.fc("readOnly",!1)("formData",t.formData)("showColonAfterLabel",!0)("showValidationSummary",!1),n.Bb(3),n.fc("useSubmitBehavior",!0)("disabled",!(t.formData&&t.formData.code)),n.Bb(3),n.fc("colCount",3),n.Bb(1),n.fc("colSpan",3),n.Bb(1),n.fc("text","Ti\xeau \u0111\u1ec1"),n.Bb(1),n.fc("colSpan",3)("editorOptions",n.hc(54,x)),n.Bb(1),n.fc("text","Th\xf4ng b\xe1o"),n.Bb(2),n.fc("max",400),n.Bb(2),n.fc("text","N\u1ed9i dung"),n.Bb(1),n.fc("value",t.content),n.Bb(5),n.fc("formatValues",n.hc(55,N)),n.Bb(1),n.fc("formatValues",n.hc(56,w)),n.Bb(15),n.fc("formatValues",n.hc(57,S)),n.Bb(20),n.fc("colCount",3),n.Bb(1),n.fc("colSpan",3),n.Bb(1),n.fc("text","Gi\xe1 tr\u1ecb c\u1eadp nh\u1eadt t\u1ef1 \u0111\u1ed9ng"),n.Bb(2),n.fc("colSpan",3),n.Bb(1),n.fc("text","C\u1eadp nh\u1eadt t\u1ef1 \u0111\u1ed9ng Ti\xeau \u0111\u1ec1"),n.Bb(1),n.fc("disabled",!t.enableAutoUpdateField)("value",t.autoUpdateTitle),n.Bb(1),n.fc("colSpan",3),n.Bb(1),n.fc("text","C\u1eadp nh\u1eadt t\u1ef1 \u0111\u1ed9ng Th\xf4ng b\xe1o"),n.Bb(1),n.fc("disabled",!t.enableAutoUpdateField)("value",t.autoUpdateMessage),n.Bb(1),n.fc("colSpan",3),n.Bb(1),n.fc("text","C\u1eadp nh\u1eadt t\u1ef1 \u0111\u1ed9ng N\u1ed9i dung"),n.Bb(1),n.fc("disabled",!t.enableAutoUpdateField)("value",t.autoUpdateContent),n.Bb(1),n.fc("colSpan",1),n.Bb(3),n.fc("height",t.gridHeight)("showColumnLines",!1)("rowAlternationEnabled",!0)("selectedRowKeys",t.selectedRows)("hoverStateEnabled",!0)("dataSource",t.data)("columnAutoWidth",!0)("showBorders",!0),n.Bb(3),n.fc("pageSize",50),n.Bb(1),n.fc("showPageSizeSelector",!0)("allowedPageSizes",n.hc(58,v))("showInfo",!0),n.Bb(1),n.fc("visible",!0),n.Bb(1),n.fc("visible",!0))},directives:[d.a,u.k,l.a,u.lb,u.A,c.a,u.Ub,f.d,s.a,m.a,u.Hb,u.yb,u.wb,u.W,u.fb,u.f,a.j,a.i],styles:[""]}),e})();var B=i("tyNb");const C=[{path:"",redirectTo:"list",pathMatch:"prefix"},{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["app-notification"]],decls:1,vars:0,template:function(e,t){1&e&&n.Nb(0,"router-outlet")},directives:[B.g],styles:[""]}),e})(),children:[{path:"list",component:P}]}];let y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({imports:[[B.f.forChild(C)],B.f]}),e})();var T=i("7m6G"),Q=i("4Ewp"),F=i("Wx6Q"),D=i("Qlw+"),G=i("Gkpw"),A=i("uTW7"),U=i("ir3x"),k=i("M+dh"),L=i("LT8A"),z=i("zn50"),R=i("BbNB"),V=i("xcIV"),I=i("lgXn"),M=i("w76M"),O=i("Ylls"),X=i("/ZIY"),_=i("XPKZ"),K=i("we1Z");let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Kb({type:e}),e.\u0275inj=n.Jb({imports:[[a.b,y,l.b,T.a,Q.a,F.a,D.a,d.b,s.b,G.b,A.a,U.a,k.a,L.a,z.a,R.a,V.a,f.f,m.b,I.a,M.b,O.a,X.a,_.b,c.b,K.a]]}),e})()}}]);