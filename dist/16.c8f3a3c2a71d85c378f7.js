(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"8AVY":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var o=i("tk/3"),n=i("nS6G"),a=i("fXoL");let r=(()=>{class e{constructor(e){this.http=e,this.baseUrl=n.a.remoteVTHealthcareServiceBaseUrl}getAll(e){return this.http.post(this.baseUrl+"/api/v1/Vehicle/GetAll",e)}getLookup(e){return this.http.get(this.baseUrl+`/api/v1/Vehicle/GetLookup?isActive=${null==e?"":e}`)}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(o.b))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Qq7v:function(e,t,i){"use strict";i.r(t),i.d(t,"VehicleModule",function(){return j});var o=i("ofXK"),n=i("cNn3"),a=i("gSRN"),r=i("fXoL"),c=i("8/KI"),s=i("8AVY"),l=i("k8YA"),d=i("WYlB"),b=i("gMzk"),h=i("ZzPI"),p=i("6t9p"),f=i("PVOt");const u=["vehicleDataGrid"];function m(e,t){if(1&e){const e=r.Rb();r.Qb(0,"dx-button",38),r.Xb("onClick",function(t){return r.pc(e),r.Zb().onDelete(t)}),r.Pb()}}function g(e,t){1&e&&(r.Qb(0,"div",39),r.Nb(1,"img",40),r.Pb()),2&e&&(r.Bb(1),r.fc("src","assets/image/plus.png",r.rc))}function x(e,t){if(1&e&&(r.Qb(0,"div",41),r.Nb(1,"img",42),r.Pb()),2&e){const e=r.Zb();r.Bb(1),r.fc("src",e.image,r.rc)}}function v(e,t){if(1&e&&(r.Qb(0,"div"),r.Nb(1,"img",43),r.Pb()),2&e){const e=t.$implicit;r.Bb(1),r.fc("src",e.data.image,r.rc)}}function w(e,t){1&e&&(r.Qb(0,"span",46),r.vc(1,"S\u1eb5n s\xe0ng"),r.Pb())}function S(e,t){1&e&&(r.Qb(0,"span",47),r.vc(1,"\u0110ang ho\u1ea1t \u0111\u1ed9ng"),r.Pb())}function y(e,t){if(1&e&&(r.Qb(0,"div"),r.tc(1,w,2,0,"span",44),r.tc(2,S,2,0,"span",45),r.Pb()),2&e){const e=t.$implicit;r.Bb(1),r.fc("ngIf",!1===e.data.isActive),r.Bb(1),r.fc("ngIf",!0===e.data.isActive)}}const B=function(e){return{items:e,displayExpr:"name",valueExpr:"id",searchEnabled:!0,value:1}},P=function(){return{format:"#,##0"}},T=function(){return[10,20,50,100,500]};let Q=(()=>{class e{constructor(e,t,i,o){this.messageService=e,this.lookupServiceProxy=t,this.vehicleServiceProxy=i,this.vehicleService=o,this.formData=new n.y,this.formData.isActive=!1,this.getScreenGridSize()}ngOnInit(){this.vehicles=new a.a({load:e=>this.vehicleService.getAll(e.mapFrom())}),this.lookupServiceProxy.vehicleType().subscribe(e=>{this.lookupType=e})}getScreenGridSize(e){this.screenHeight=window.innerHeight,this.gridHeight=this.screenHeight-180+"px"}onSelectionChanged(e){this.selectedRows&&this.selectedRows.length>0&&this.vehicleServiceProxy.get(this.selectedRows[0].id).subscribe(e=>{this.formData=e,this.image=e.image,this.imageFile=null})}clearForm(){this.selectedRows=null,this.formData=new n.y,this.formData.isActive=!1,this.image=null,this.imageFile=null}onSubmitForm(e){if(e.preventDefault(),this.formData&&this.formData.id){const e=new n.gb;e.init(this.formData),e.imageFile=this.imageFile,this.vehicleServiceProxy.update(this.formData.id,e).subscribe(e=>{this.messageService.success("Ch\u1ec9nh s\u1eeda th\xe0nh c\xf4ng!"),this.vehicleDataGrid.instance.refresh()})}else{const e=new n.p;e.init(this.formData),e.imageFile=this.imageFile,this.vehicleServiceProxy.create(e).subscribe(e=>{this.messageService.success("T\u1ea1o m\u1edbi th\xe0nh c\xf4ng!"),this.vehicleDataGrid.instance.refresh()})}}onDelete(){this.messageService.confirmDelete(e=>{e&&this.vehicleServiceProxy.delete(this.formData.id).subscribe(e=>{this.messageService.success("X\xf3a th\xe0nh c\xf4ng."),this.vehicleDataGrid.instance.refresh(),this.formData=new n.y,this.image=null,this.imageFile=null,this.selectedRows=null})})}onFormFilterSubmit(e){e.preventDefault(),this.vehicleDataGrid.instance.refresh()}handleInputChange(e){const t=e.dataTransfer?e.dataTransfer.files[0]:e.target.files[0],i=new FileReader;t.type.match(/image-*/)?(i.onload=this._handleReaderLoaded.bind(this),i.readAsDataURL(t)):this.messageService.error("T\u1eadp tin \u0111\u01b0\u1ee3c ch\u1ecdn kh\xf4ng ph\u1ea3i l\xe0 h\xecnh \u1ea3nh")}_handleReaderLoaded(e){const t=e.target;this.image=t.result,this.imageFile=t.result}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(c.a),r.Mb(n.E),r.Mb(n.jb),r.Mb(s.a))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-vehicle-list"]],viewQuery:function(e,t){if(1&e&&r.zc(u,1),2&e){let e;r.lc(e=r.Yb())&&(t.vehicleDataGrid=e.first)}},hostBindings:function(e,t){1&e&&r.Xb("resize",function(e){return t.getScreenGridSize(e)},!1,r.oc)},decls:53,vars:58,consts:[[1,"card","custom-card",2,"margin-bottom","5px"],[1,"card-header"],[1,"card-body"],[3,"readOnly","formData","showColonAfterLabel","showValidationSummary"],["itemType","group","caption","",3,"colCount"],["itemType","group","caption","Th\xf4ng tin ch\xednh",3,"colSpan"],["action","",3,"submit"],["validationGroup","newsForm",3,"readOnly","formData","showColonAfterLabel","showValidationSummary"],["text","T\u1ea1o m\u1edbi","icon","fa fa-plus-square","type","success",2,"margin-right","10px","background-color","#ed8200","font-weight","bold","padding","2px",3,"onClick"],["text","L\u01b0u","type","success","icon","fa fa-floppy-o","validationGroup","newsForm",2,"margin-right","10px","background-color","#12007c","font-weight","bold","padding","2px",3,"useSubmitBehavior"],["text","X\xf3a","type","success","icon","fa fa-ban","validationGroup","newsForm","style"," margin-right: 10px; background-color:#ff000f; font-weight: bold; padding: 2px;",3,"onClick",4,"ngIf"],["itemType","group","caption",""],["dataField","name",3,"colSpan"],[3,"text"],["type","required","message","Tr\u01b0\u1eddng n\xe0y l\xe0 b\u1eaft bu\u1ed9c"],["itemType","empty",3,"colSpan"],["dataField","numberPlate",3,"colSpan"],["editorType","dxSelectBox","dataField","vehicleTypeId",3,"colSpan","editorOptions"],["dataField","maximumTransportWeight","editorType","dxNumberBox",3,"colSpan","editorOptions"],[3,"colSpan"],[3,"value","valueChange"],["itemType","group",3,"colCount"],[1,"image-upload",2,"height","6rem"],["type","file","accept","image/*",3,"change"],["style","position: absolute; z-index: 1; top: 0;bottom: 0; border: 2px dashed #c8c8c8; border-radius: 0.5rem;",4,"ngIf"],["style","position: absolute; z-index: 1; top: 0; bottom: 0;",4,"ngIf"],["itemType","group","caption","Danh s\xe1ch ph\u01b0\u01a1ng ti\u1ec7n",3,"colSpan"],[3,"height","showColumnLines","remoteOperations","rowAlternationEnabled","selectedRowKeys","hoverStateEnabled","dataSource","columnAutoWidth","showBorders","heightChange","selectedRowKeysChange","onSelectionChanged"],["vehicleDataGrid",""],["mode","single"],[3,"visible"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes","showInfo"],["dataField","name","caption","T\xean",3,"width"],["caption","H\xecnh \u1ea3nh","cellTemplate","imageCellTemplate",3,"width"],["dataField","maximumTransportWeight","caption","Kh\u1ed1i l\u01b0\u1ee3ng t\u1ed1i \u0111a",3,"width"],[4,"dxTemplate","dxTemplateOf"],["caption","Tr\u1ea1ng th\xe1i","alignment","right","cellTemplate","statusCellTemplate",3,"width"],["text","X\xf3a","type","success","icon","fa fa-ban","validationGroup","newsForm",2,"margin-right","10px","background-color","#ff000f","font-weight","bold","padding","2px",3,"onClick"],[2,"position","absolute","z-index","1","top","0","bottom","0","border","2px dashed #c8c8c8","border-radius","0.5rem"],[2,"width","2rem","height","2rem","margin","2rem","display","block",3,"src"],[2,"position","absolute","z-index","1","top","0","bottom","0"],[2,"max-width","100%","max-height","100%",3,"src"],[2,"width","100%","max-height","65px","object-fit","cover",3,"src"],["style","background-color: #66ff00; border-color: transparent; color: #fff; padding: 2px 10px; border-radius: 20px;",4,"ngIf"],["style","background-color: #ff0000; border-color: transparent; color: #fff; padding: 2px 10px; border-radius: 20px;",4,"ngIf"],[2,"background-color","#66ff00","border-color","transparent","color","#fff","padding","2px 10px","border-radius","20px"],[2,"background-color","#ff0000","border-color","transparent","color","#fff","padding","2px 10px","border-radius","20px"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Nb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"dx-form",3),r.Qb(4,"dxi-item",4),r.Qb(5,"dxi-item",5),r.Qb(6,"form",6),r.Xb("submit",function(e){return t.onSubmitForm(e)}),r.Qb(7,"dx-form",7),r.Qb(8,"dxi-item",4),r.Qb(9,"dx-button",8),r.Xb("onClick",function(){return t.clearForm()}),r.Pb(),r.Nb(10,"dx-button",9),r.tc(11,m,1,0,"dx-button",10),r.Pb(),r.Qb(12,"dxi-item",11),r.Qb(13,"dxi-item",11),r.Qb(14,"dxi-item",4),r.Qb(15,"dxi-item",12),r.Nb(16,"dxo-label",13),r.Nb(17,"dxi-validation-rule",14),r.Pb(),r.Nb(18,"dxi-item",15),r.Qb(19,"dxi-item",16),r.Nb(20,"dxo-label",13),r.Nb(21,"dxi-validation-rule",14),r.Pb(),r.Qb(22,"dxi-item",17),r.Nb(23,"dxo-label",13),r.Nb(24,"dxi-validation-rule",14),r.Pb(),r.Qb(25,"dxi-item",18),r.Nb(26,"dxo-label",13),r.Nb(27,"dxi-validation-rule",14),r.Pb(),r.Qb(28,"dxi-item",19),r.Qb(29,"dx-check-box",20),r.Xb("valueChange",function(e){return t.formData.isActive=e}),r.Pb(),r.Nb(30,"dxo-label",13),r.Pb(),r.Pb(),r.Qb(31,"dxi-item",21),r.Qb(32,"dxi-item",19),r.Nb(33,"dxo-label",13),r.Qb(34,"div",22),r.Qb(35,"input",23),r.Xb("change",function(e){return t.handleInputChange(e)}),r.Pb(),r.tc(36,g,2,1,"div",24),r.tc(37,x,2,1,"div",25),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Qb(38,"dxi-item",26),r.Qb(39,"dxi-item",11),r.Qb(40,"dxi-item"),r.Qb(41,"dx-data-grid",27,28),r.Xb("heightChange",function(e){return t.gridHeight=e})("selectedRowKeysChange",function(e){return t.selectedRows=e})("onSelectionChanged",function(e){return t.onSelectionChanged(e)}),r.Nb(43,"dxo-selection",29),r.Nb(44,"dxo-filter-row",30),r.Nb(45,"dxo-paging",31),r.Nb(46,"dxo-pager",32),r.Nb(47,"dxi-column",33),r.Nb(48,"dxi-column",34),r.Nb(49,"dxi-column",35),r.tc(50,v,2,1,"div",36),r.Nb(51,"dxi-column",37),r.tc(52,y,3,2,"div",36),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.Bb(3),r.fc("readOnly",!1)("formData",t)("showColonAfterLabel",!0)("showValidationSummary",!1),r.Bb(1),r.fc("colCount",4),r.Bb(1),r.fc("colSpan",2),r.Bb(2),r.fc("readOnly",!1)("formData",t.formData)("showColonAfterLabel",!0)("showValidationSummary",!1),r.Bb(1),r.fc("colCount",2),r.Bb(2),r.fc("useSubmitBehavior",!0),r.Bb(1),r.fc("ngIf",t.selectedRows),r.Bb(3),r.fc("colCount",4),r.Bb(1),r.fc("colSpan",3),r.Bb(1),r.fc("text","T\xean xe"),r.Bb(2),r.fc("colSpan",2),r.Bb(1),r.fc("colSpan",2),r.Bb(1),r.fc("text","Bi\u1ec3n s\u1ed1"),r.Bb(2),r.fc("colSpan",2)("editorOptions",r.ic(54,B,t.lookupType)),r.Bb(1),r.fc("text","Lo\u1ea1i xe"),r.Bb(2),r.fc("colSpan",2)("editorOptions",r.hc(56,P)),r.Bb(1),r.fc("text","Kh\u1ed1i l\u01b0\u1ee3ng v\u1eadn chuy\u1ec3n"),r.Bb(2),r.fc("colSpan",2),r.Bb(1),r.fc("value",t.formData.isActive),r.Bb(1),r.fc("text","\u0110ang ho\u1ea1t \u0111\u1ed9ng"),r.Bb(1),r.fc("colCount",2),r.Bb(1),r.fc("colSpan",2),r.Bb(1),r.fc("text","Ch\u1ecdn h\xecnh \u1ea3nh"),r.Bb(3),r.fc("ngIf",!t.image),r.Bb(1),r.fc("ngIf",t.image),r.Bb(1),r.fc("colSpan",2),r.Bb(3),r.fc("height",t.gridHeight)("showColumnLines",!1)("remoteOperations",!0)("rowAlternationEnabled",!0)("selectedRowKeys",t.selectedRows)("hoverStateEnabled",!0)("dataSource",t.vehicles)("columnAutoWidth",!0)("showBorders",!0),r.Bb(3),r.fc("visible",!0),r.Bb(1),r.fc("pageSize",20),r.Bb(1),r.fc("showPageSizeSelector",!0)("allowedPageSizes",r.hc(57,T))("showInfo",!0),r.Bb(1),r.fc("width",200),r.Bb(1),r.fc("width",150),r.Bb(1),r.fc("width",150),r.Bb(1),r.fc("dxTemplateOf","imageCellTemplate"),r.Bb(1),r.fc("width",120),r.Bb(1),r.fc("dxTemplateOf","statusCellTemplate"))},directives:[l.a,p.k,d.a,o.j,p.lb,p.A,b.a,h.a,p.Hb,p.W,p.yb,p.wb,p.f,f.d],styles:[""]}),e})();var C=i("tyNb");const D=[{path:"",redirectTo:"list",pathMatch:"prefix"},{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Gb({type:e,selectors:[["app-vehicle"]],decls:1,vars:0,template:function(e,t){1&e&&r.Nb(0,"router-outlet")},directives:[C.g],styles:[""]}),e})(),children:[{path:"list",component:Q}]}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({imports:[[C.f.forChild(D)],C.f]}),e})();var N=i("7m6G"),F=i("4Ewp"),A=i("Wx6Q"),I=i("Qlw+"),G=i("Gkpw"),z=i("uTW7"),R=i("ir3x"),L=i("M+dh"),O=i("LT8A"),X=i("zn50"),V=i("BbNB"),K=i("xcIV"),E=i("lgXn"),H=i("w76M"),M=i("Ylls"),W=i("/ZIY"),Y=i("XPKZ"),U=i("4/q7");let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({imports:[[o.b,k,d.b,N.a,F.a,A.a,I.a,l.b,b.b,G.b,z.a,R.a,L.a,O.a,X.a,V.a,K.a,f.f,h.b,E.a,H.b,M.a,W.a,Y.b,U.b]]}),e})()}}]);